<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ClauseEase | Text Simplification</title>
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&family=Inter&display=swap" rel="stylesheet">
<style>
:root {
  --light-lavender: #E6E6FA;
  --medium-lavender: #B39EB5;
  --dark-lavender: #6A5ACD;
  --white: #FFFFFF;
  --text-dark: #2E2E2E;
  --text-light: #555555;
  --shadow: rgba(0,0,0,0.1);
  --success: #2ECC71;
  --error: #DC3545;
}

/* Global styles */
* { margin:0; padding:0; box-sizing:border-box; font-family:'Inter', sans-serif; }
body { background-color: var(--light-lavender); display: flex; flex-direction: column; min-height: 100vh; color: var(--text-dark); }

/* Navbar */
nav {
  background-color: var(--dark-lavender);
  color: var(--white);
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 15px 60px;
  box-shadow: 0 4px 10px rgba(0,0,0,0.1);
}
.nav-left { font-family: 'Poppins', sans-serif; font-size: 24px; font-weight: 700; }
.nav-right a { color: var(--white); text-decoration: none; font-weight: 500; margin-left: 25px; }
.nav-right a:hover { color: var(--medium-lavender); }

/* Main container */
.container {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: 20px;
  padding: 40px;
  max-width: 1000px;
  margin: 0 auto;
}

/* Columns */
.columns { display: flex; gap: 20px; flex: 1; }
.column {
  flex: 1;
  background-color: var(--white);
  padding: 25px;
  border-radius: 20px;
  box-shadow: 0 6px 20px var(--shadow);
  overflow-y: auto;
  color: var(--text-dark);
}
.column h3 { margin-bottom: 15px; color: var(--text-dark); }

/* Highlighted simplified words */
.simplified-word { background-color: #FFEB3B; font-weight: bold; border-radius: 3px; padding: 2px 4px; }

/* Summary box */
.summary {
  background-color: var(--white);
  padding: 25px;
  border-radius: 20px;
  box-shadow: 0 6px 20px var(--shadow);
  color: var(--text-dark);
}

/* Preview button */
.preview-btn {
  background-color: var(--dark-lavender);
  color: var(--white);
  font-weight: 600;
  border: none;
  border-radius: 12px;
  padding: 12px 25px;
  cursor: pointer;
  margin: 20px auto 0;
  display: block;
  transition: 0.3s ease;
}
.preview-btn:hover {
  background-color: var(--medium-lavender);
  transform: scale(1.03);
}

/* Dark Mode Styles */
body.dark-mode {
  background-color: #1e1e2f;
  color: #f0f0f0;
}

body.dark-mode .column,
body.dark-mode .summary {
  background-color: #2a2a3f;
  color: #f0f0f0;
}

body.dark-mode .column h3,
body.dark-mode .summary h3 {
  color: #f0f0f0;
}

body.dark-mode .simplified-word {
  background-color: #ffd600; /* brighter yellow for dark mode */
  color: #000;
}

body.dark-mode .preview-btn {
  background-color: #5B3CB3;
  color: #fff;
}

body.dark-mode nav { background-color: #2a2a3f; }
body.dark-mode .nav-right a { color: #f0f0f0; }
body.dark-mode .nav-right a:hover { color: #5B3CB3; }

</style>
</head>
<body>

<!-- Navbar -->
<nav>
  <div class="nav-left">ClauseEase</div>
  <div class="nav-right">
    <a href="{{ url_for('document_ingestion') }}">Upload</a>
    <a href="{{ url_for('text_processing') }}">Text Processing</a>
    <a href="{{ url_for('preview') }}">Preview</a>
    <button id="theme-toggle" style="margin-left:15px; background:none; border:none; cursor:pointer; font-size:16px; color:white;">üåô</button>
    <a href="{{ url_for('logout') }}">Logout</a>
  </div>
</nav>

<!-- Main Container -->
<div class="container">
    <div class="columns">
        <div class="column">
            <h3>Original Text</h3>
            <div id="original-text">{{ original_text }}</div>
        </div>

        <div class="column">
            <h3>Simplified Text</h3>
            <div id="simplified-text">{{ simplified_text|safe }}</div>
        </div>
    </div>

    <div class="summary">
        <h3>Document Summary</h3>
        <p>{{ summary }}</p>
    </div>

    <!-- Preview Button -->
    <a href="{{ url_for('preview') }}">
        <button class="preview-btn" type="button">Preview</button>
    </a>
</div>

<script>
const toggle = document.getElementById('theme-toggle');
toggle.addEventListener('click', () => {
    document.body.classList.toggle('dark-mode');
    toggle.textContent = document.body.classList.contains('dark-mode') ? '‚òÄÔ∏è' : 'üåô';
    localStorage.setItem('theme', document.body.classList.contains('dark-mode') ? 'dark' : 'light');
});

// Load saved theme on page load
window.addEventListener('DOMContentLoaded', () => {
    if(localStorage.getItem('theme') === 'dark') {
        document.body.classList.add('dark-mode');
        toggle.textContent = '‚òÄÔ∏è';
    }
});
</script>

</body>
</html>
